sap.ui.define(["./BaseController","sap/ui/core/routing/History","sap/ui/Device"],function(e,t,a){"use strict";return e.extend("gruene.ueberherrn.controller.Navigation",{onInit:function(){this._oPage=this.byId("page");if(a.system.phone){this.byId("navContainer").addEventDelegate({onclick:()=>{if(this._oPage.getSideExpanded()){this._oPage.setSideExpanded(false)}}})}this.getRouter().attachRoutePatternMatched(null,this._onRoutePatternMatched,this)},onItemSelect:function(e){var i=e.getParameter("item");var n=i.data("route");if(n){var r=t.getInstance().getPreviousHash();if(r){if(n!=="numbers"){this._sRouteForwarding=n}history.go(-1)}else{this.getRouter().navTo(n,{},true)}if(a.system.phone){this._oPage.setSideExpanded(false)}}else{i.setExpanded(!i.getExpanded())}},onSideNavButtonPress:function(){var e=this._oPage.getSideExpanded();this._oPage.setSideExpanded(!e)},_onRoutePatternMatched:function(e){if(this._sRouteForwarding){this.getRouter().navTo(this._sRouteForwarding,{},true);this._sRouteForwarding=null;return}var t=e.getParameter("name");var a=this.byId("navigationList");var i=null;var n=a.getItems();for(var r=0;r<n.length;r++){if(n[r].data("route")===t||t==="numbersDetails"&&n[r].data("route")==="numbers"){i=n[r]}var s=n[r].getItems();for(var o=0;o<s.length;o++){if(s[o].data("route")===t){i=s[o];break}}if(i){break}}if(i){a.setSelectedItem(i)}else{var d=this.byId("navigationListFixed");i=d.getItems().find(e=>{return e.data("route")===t});if(i){d.setSelectedItem(i)}}if(window.gtag){gtag("event","screen_view",{screen_name:t})}}})});